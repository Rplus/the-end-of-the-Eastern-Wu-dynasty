<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>吳末傳</title>
<!-- <link rel="stylesheet" href="normalize.css"> -->
<style>
body{
  margin: 0;
  color: #333;
}
ul{
  list-style: none;
}
li.name{
  background-repeat: no-repeat;
  padding-left: 130px;
  min-height: 120px;
  margin-bottom: 30px;
}
blockquote{
  margin: 10px;
  padding-left: 10px;
  color: #777;
  border-left: 4px solid #DDD;
}
h3{
  margin: 0 0 5px;
}
</style>
</head>
<body>
  <ul></ul>






















<!-- data build -->

<script>
  let dataUrl = 'https://spreadsheets.google.com/feeds/list/0AqMUl4JFkRfldFRZbkk2YlBJVFVJQjYwZ1hoV2tQWHc/od6/public/values?alt=json';
  fetch(dataUrl).then((rawData) => rawData.json()).then((data) => {
    let html = data.feed.entry.map((_char) => {
      let [name, quote, camp, job, intro] = ['人名', '名言', '所屬方', '職業', '註'].map((i) => _char[`gsx$${i}`].$t);
      return (`
        <li class="name" style="background-image: url('./images/${name}.png');">
          <h3>${name}</h3> - ${camp} - ${job}
          <blockquote>${quote}</blockquote>
          <div>${intro}</div>
        </li>
      `);
    });
    document.querySelector('body ul').innerHTML = html.join('');
  })
  .catch(() => {
    document.querySelector('body ul').innerHTML = '<li>== 取值連線異常 ==</li>';
  });
</script>
</body>
</html>